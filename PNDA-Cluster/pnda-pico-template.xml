
<data_container_template>
    <id/>
    <dock_plate_id/>
    <name>{{name}}</name>
    <state/>
    <created_on/>
    <last_modified_by/>
    <last_modified/>
    <vdisk_template>
        <name>os_vdisks</name>
        <vdisk>
            <count>{{data_node_diskcount}}</count>
            <type>Fast</type>
            <size>{{data_node_disksize}}</size>
        </vdisk>
    </vdisk_template>
    <apphost_template>
        <name>os_bootstrap</name>
        <type>kvm</type>
	    <vcpu>1</vcpu>
	    <memory>8</memory>
        <image>
            <name>kuber-base</name>
            <type>qcow2</type>
            <os>Linux</os>
            <firstboot_script>openshift_setup.sh</firstboot_script>
        </image>
    </apphost_template>
    <apphost_template>
        <name>os_node</name>
        <type>kvm</type>
	    <vcpu>{{data_node_vcpu}}</vcpu>
	    <memory>{{data_node_ram}}</memory>
        <image>
            <name>kuber-base</name>
            <type>qcow2</type>
            <os>Linux</os>
        </image>
        <vdisk_set>
            <name></name>
            <vdisk_template>os_vdisks</vdisk_template>
        </vdisk_set>
    </apphost_template>
    <apphost_group>
        <name>boot%n</name>
        <apphost_template>os_bootstrap</apphost_template>
        <count>1</count>
    	<virtual_rack>1</virtual_rack>
    </apphost_group>
    <apphost_group>
        <name>lb%n</name>
        <apphost_template>os_bootstrap</apphost_template>
        <count>1</count>
    	<virtual_rack>1</virtual_rack>
    </apphost_group>
    <apphost_group>
        <name>infra%n</name>
        <apphost_template>os_bootstrap</apphost_template>
        <count>1</count>
    	<virtual_rack>2</virtual_rack>
    </apphost_group>
    <apphost_group>
        <name>etcd%n</name>
        <apphost_template>os_bootstrap</apphost_template>
        <count>1</count>
    	<virtual_rack>1-3</virtual_rack>
    </apphost_group>
    <apphost_group>
        <name>master%n</name>
        <apphost_template>os_node</apphost_template>
        <count>1</count>
    	<virtual_rack>1-3</virtual_rack>
    </apphost_group>
    <apphost_group>
        <name>node%n</name>
        <apphost_template>os_node</apphost_template>
        <count>{{(( data_node_count | int) /   3) | int}}</count>
    	<virtual_rack>1-3</virtual_rack>
    </apphost_group>
</data_container_template>
